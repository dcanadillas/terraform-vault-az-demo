{
    "version": 3,
    "terraform_version": "0.11.11",
    "serial": 3,
    "lineage": "5b6e5917-b871-cce1-f107-8409dc56e658",
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {
                "bastion_network_interface_name": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "dev-hashi-bastion-nic-0"
                    ]
                },
                "bastion_network_interface_private_ip": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "10.0.1.5"
                    ]
                },
                "bastion_network_interface_public_ip": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "52.143.152.196"
                    ]
                },
                "bastion_virtual_machine_name": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "dev-hashi-bastion-0"
                    ]
                },
                "load_balancer_backend_pool_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/loadBalancers/dev-demo-lb/backendAddressPools/dev-demo-bck-pool"
                },
                "load_balancer_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/loadBalancers/dev-demo-lb"
                },
                "load_balancer_public_ip_address": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "52.143.159.3"
                    ]
                },
                "resource_group_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg"
                },
                "resource_group_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "dev-demo-rg"
                },
                "virtual_network_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/virtualNetworks/dev-demo-net"
                },
                "virtual_network_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "dev-demo-net"
                },
                "virtual_network_subnets_id": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/virtualNetworks/dev-demo-net/subnets/dev-demo-subnet1"
                    ]
                },
                "virtual_network_subnets_name": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "dev-demo-subnet1"
                    ]
                }
            },
            "resources": {
                "azurerm_availability_set.avset": {
                    "type": "azurerm_availability_set",
                    "depends_on": [
                        "azurerm_resource_group.rg"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Compute/availabilitySets/dev-hashi-avset",
                        "attributes": {
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Compute/availabilitySets/dev-hashi-avset",
                            "location": "francecentral",
                            "managed": "true",
                            "name": "dev-hashi-avset",
                            "platform_fault_domain_count": "2",
                            "platform_update_domain_count": "2",
                            "resource_group_name": "dev-demo-rg",
                            "tags.%": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_key_vault.vault_unseal": {
                    "type": "azurerm_key_vault",
                    "depends_on": [
                        "azurerm_resource_group.rg",
                        "data.azurerm_client_config.current"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.KeyVault/vaults/testvaultvault",
                        "attributes": {
                            "access_policy.#": "0",
                            "enabled_for_deployment": "true",
                            "enabled_for_disk_encryption": "true",
                            "enabled_for_template_deployment": "true",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.KeyVault/vaults/testvaultvault",
                            "location": "francecentral",
                            "name": "testvaultvault",
                            "network_acls.#": "0",
                            "resource_group_name": "dev-demo-rg",
                            "sku.#": "1",
                            "sku.0.name": "standard",
                            "tags.%": "4",
                            "tags.cloud": "arm",
                            "tags.environment": "dev",
                            "tags.owner": "nehrman",
                            "tags.purpose": "Demo",
                            "tenant_id": "0e3e2e88-8caf-41ca-b4da-e3b33b6c52ec",
                            "vault_uri": "https://testvaultvault.vault.azure.net/"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_key_vault_access_policy.vault_unseal": {
                    "type": "azurerm_key_vault_access_policy",
                    "depends_on": [
                        "azurerm_key_vault.vault_unseal",
                        "azurerm_resource_group.rg",
                        "data.azurerm_client_config.current"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.KeyVault/vaults/testvaultvault/objectId/3ee10c6d-5b7d-49f7-a91d-83db61c38923",
                        "attributes": {
                            "certificate_permissions.#": "5",
                            "certificate_permissions.0": "get",
                            "certificate_permissions.1": "list",
                            "certificate_permissions.2": "update",
                            "certificate_permissions.3": "create",
                            "certificate_permissions.4": "delete",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.KeyVault/vaults/testvaultvault/objectId/3ee10c6d-5b7d-49f7-a91d-83db61c38923",
                            "key_permissions.#": "7",
                            "key_permissions.0": "get",
                            "key_permissions.1": "list",
                            "key_permissions.2": "update",
                            "key_permissions.3": "create",
                            "key_permissions.4": "delete",
                            "key_permissions.5": "unwrapKey",
                            "key_permissions.6": "wrapKey",
                            "object_id": "3ee10c6d-5b7d-49f7-a91d-83db61c38923",
                            "resource_group_name": "dev-demo-rg",
                            "secret_permissions.#": "4",
                            "secret_permissions.0": "get",
                            "secret_permissions.1": "list",
                            "secret_permissions.2": "set",
                            "secret_permissions.3": "delete",
                            "tenant_id": "0e3e2e88-8caf-41ca-b4da-e3b33b6c52ec",
                            "vault_name": "testvaultvault"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_key_vault_access_policy.vault_unseal_spn.0": {
                    "type": "azurerm_key_vault_access_policy",
                    "depends_on": [
                        "azurerm_key_vault.vault_unseal",
                        "azurerm_resource_group.rg",
                        "azurerm_virtual_machine.vault.*",
                        "data.azurerm_client_config.current"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.KeyVault/vaults/testvaultvault/objectId/970137e2-0263-4188-8668-d588ccd14cf8",
                        "attributes": {
                            "certificate_permissions.#": "5",
                            "certificate_permissions.0": "get",
                            "certificate_permissions.1": "list",
                            "certificate_permissions.2": "update",
                            "certificate_permissions.3": "create",
                            "certificate_permissions.4": "delete",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.KeyVault/vaults/testvaultvault/objectId/970137e2-0263-4188-8668-d588ccd14cf8",
                            "key_permissions.#": "7",
                            "key_permissions.0": "get",
                            "key_permissions.1": "list",
                            "key_permissions.2": "update",
                            "key_permissions.3": "create",
                            "key_permissions.4": "delete",
                            "key_permissions.5": "unwrapKey",
                            "key_permissions.6": "wrapKey",
                            "object_id": "970137e2-0263-4188-8668-d588ccd14cf8",
                            "resource_group_name": "dev-demo-rg",
                            "secret_permissions.#": "4",
                            "secret_permissions.0": "get",
                            "secret_permissions.1": "list",
                            "secret_permissions.2": "set",
                            "secret_permissions.3": "delete",
                            "tenant_id": "0e3e2e88-8caf-41ca-b4da-e3b33b6c52ec",
                            "vault_name": "testvaultvault"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_key_vault_access_policy.vault_unseal_spn.1": {
                    "type": "azurerm_key_vault_access_policy",
                    "depends_on": [
                        "azurerm_key_vault.vault_unseal",
                        "azurerm_resource_group.rg",
                        "azurerm_virtual_machine.vault.*",
                        "data.azurerm_client_config.current"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.KeyVault/vaults/testvaultvault/objectId/4fdc0e22-a731-496a-8e46-b2d728cea9c8",
                        "attributes": {
                            "certificate_permissions.#": "5",
                            "certificate_permissions.0": "get",
                            "certificate_permissions.1": "list",
                            "certificate_permissions.2": "update",
                            "certificate_permissions.3": "create",
                            "certificate_permissions.4": "delete",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.KeyVault/vaults/testvaultvault/objectId/4fdc0e22-a731-496a-8e46-b2d728cea9c8",
                            "key_permissions.#": "7",
                            "key_permissions.0": "get",
                            "key_permissions.1": "list",
                            "key_permissions.2": "update",
                            "key_permissions.3": "create",
                            "key_permissions.4": "delete",
                            "key_permissions.5": "unwrapKey",
                            "key_permissions.6": "wrapKey",
                            "object_id": "4fdc0e22-a731-496a-8e46-b2d728cea9c8",
                            "resource_group_name": "dev-demo-rg",
                            "secret_permissions.#": "4",
                            "secret_permissions.0": "get",
                            "secret_permissions.1": "list",
                            "secret_permissions.2": "set",
                            "secret_permissions.3": "delete",
                            "tenant_id": "0e3e2e88-8caf-41ca-b4da-e3b33b6c52ec",
                            "vault_name": "testvaultvault"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_key_vault_key.vault_unseal": {
                    "type": "azurerm_key_vault_key",
                    "depends_on": [
                        "azurerm_key_vault.vault_unseal",
                        "azurerm_key_vault_access_policy.vault_unseal",
                        "azurerm_key_vault_access_policy.vault_unseal_spn"
                    ],
                    "primary": {
                        "id": "https://testvaultvault.vault.azure.net/keys/generated-certificate/45e8f7cb6c2148c99d1c01f0a95839c0",
                        "attributes": {
                            "e": "AQAB",
                            "id": "https://testvaultvault.vault.azure.net/keys/generated-certificate/45e8f7cb6c2148c99d1c01f0a95839c0",
                            "key_opts.#": "6",
                            "key_opts.0": "decrypt",
                            "key_opts.1": "encrypt",
                            "key_opts.2": "sign",
                            "key_opts.3": "unwrapKey",
                            "key_opts.4": "verify",
                            "key_opts.5": "wrapKey",
                            "key_size": "2048",
                            "key_type": "RSA",
                            "n": "jR8GEeOxqKrhydD6ueJ5FcO9E-WZwTao-a7zP93VqQSlYbMyPVPTWaQNBkRiwyrKIqkKHa1Z4Wgx7RHbqGaTS-imGxL-JclPOh9oPugKqShd5CU4CWIGtbAJFFbvjK9qBlTQ3rTQkSC8IjccpgR6IJH67knKZHuTwHe1HsB-1OaAlID4Zhfo0Zr1XYyQ8M_1S-JSZNyvlEFd-P-ClVqAaj2iY4he-OLTOle6ElvX6CrYoRUMFljjvEAjKGzzw_woBrzfCjlApXmD4-xCHrSGxqA2EUPimhZT0841z0P7IExrPVYjVi6xdOoAylw0V3qQXcsgQOJNjDbpX-aTS0_dtw",
                            "name": "generated-certificate",
                            "tags.%": "0",
                            "vault_uri": "https://testvaultvault.vault.azure.net/",
                            "version": "45e8f7cb6c2148c99d1c01f0a95839c0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_lb.lb": {
                    "type": "azurerm_lb",
                    "depends_on": [
                        "azurerm_public_ip.lb",
                        "azurerm_resource_group.rg"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/loadBalancers/dev-demo-lb",
                        "attributes": {
                            "frontend_ip_configuration.#": "1",
                            "frontend_ip_configuration.0.inbound_nat_rules.#": "0",
                            "frontend_ip_configuration.0.load_balancer_rules.#": "0",
                            "frontend_ip_configuration.0.name": "hashi-vault-demo-lb",
                            "frontend_ip_configuration.0.private_ip_address": "",
                            "frontend_ip_configuration.0.private_ip_address_allocation": "Dynamic",
                            "frontend_ip_configuration.0.public_ip_address_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/publicIPAddresses/dev-demo-lb-pubip",
                            "frontend_ip_configuration.0.subnet_id": "",
                            "frontend_ip_configuration.0.zones.#": "0",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/loadBalancers/dev-demo-lb",
                            "location": "francecentral",
                            "name": "dev-demo-lb",
                            "private_ip_address": "",
                            "private_ip_addresses.#": "0",
                            "resource_group_name": "dev-demo-rg",
                            "sku": "Basic",
                            "tags.%": "4",
                            "tags.cloud": "arm",
                            "tags.environment": "dev",
                            "tags.owner": "nehrman",
                            "tags.purpose": "Demo"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_lb_backend_address_pool.lb": {
                    "type": "azurerm_lb_backend_address_pool",
                    "depends_on": [
                        "azurerm_lb.lb",
                        "azurerm_resource_group.rg"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/loadBalancers/dev-demo-lb/backendAddressPools/dev-demo-bck-pool",
                        "attributes": {
                            "backend_ip_configurations.#": "0",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/loadBalancers/dev-demo-lb/backendAddressPools/dev-demo-bck-pool",
                            "load_balancing_rules.#": "0",
                            "loadbalancer_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/loadBalancers/dev-demo-lb",
                            "name": "dev-demo-bck-pool",
                            "resource_group_name": "dev-demo-rg"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_lb_probe.lb": {
                    "type": "azurerm_lb_probe",
                    "depends_on": [
                        "azurerm_lb.lb",
                        "azurerm_resource_group.rg"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/loadBalancers/dev-demo-lb/probes/demo-8200-probe",
                        "attributes": {
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/loadBalancers/dev-demo-lb/probes/demo-8200-probe",
                            "interval_in_seconds": "15",
                            "load_balancer_rules.#": "0",
                            "loadbalancer_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/loadBalancers/dev-demo-lb",
                            "name": "demo-8200-probe",
                            "number_of_probes": "5",
                            "port": "8200",
                            "protocol": "Http",
                            "request_path": "/v1/sys/health",
                            "resource_group_name": "dev-demo-rg"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_lb_rule.lb": {
                    "type": "azurerm_lb_rule",
                    "depends_on": [
                        "azurerm_lb.lb",
                        "azurerm_lb_backend_address_pool.lb",
                        "azurerm_lb_probe.lb",
                        "azurerm_resource_group.rg"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/loadBalancers/dev-demo-lb/loadBalancingRules/demo-rule",
                        "attributes": {
                            "backend_address_pool_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/loadBalancers/dev-demo-lb/backendAddressPools/dev-demo-bck-pool",
                            "backend_port": "8200",
                            "enable_floating_ip": "false",
                            "frontend_ip_configuration_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/loadBalancers/dev-demo-lb/frontendIPConfigurations/hashi-vault-demo-lb",
                            "frontend_ip_configuration_name": "hashi-vault-demo-lb",
                            "frontend_port": "80",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/loadBalancers/dev-demo-lb/loadBalancingRules/demo-rule",
                            "idle_timeout_in_minutes": "4",
                            "load_distribution": "Default",
                            "loadbalancer_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/loadBalancers/dev-demo-lb",
                            "name": "demo-rule",
                            "probe_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/loadBalancers/dev-demo-lb/probes/demo-8200-probe",
                            "protocol": "Tcp",
                            "resource_group_name": "dev-demo-rg"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_network_interface.bastion": {
                    "type": "azurerm_network_interface",
                    "depends_on": [
                        "azurerm_network_security_group.nsg",
                        "azurerm_public_ip.bastion",
                        "azurerm_resource_group.rg",
                        "azurerm_subnet.subnet"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-bastion-nic-0",
                        "attributes": {
                            "applied_dns_servers.#": "0",
                            "dns_servers.#": "0",
                            "enable_accelerated_networking": "false",
                            "enable_ip_forwarding": "false",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-bastion-nic-0",
                            "internal_dns_name_label": "",
                            "internal_fqdn": "",
                            "ip_configuration.#": "1",
                            "ip_configuration.0.application_gateway_backend_address_pools_ids.#": "0",
                            "ip_configuration.0.application_security_group_ids.#": "0",
                            "ip_configuration.0.load_balancer_backend_address_pools_ids.#": "0",
                            "ip_configuration.0.load_balancer_inbound_nat_rules_ids.#": "0",
                            "ip_configuration.0.name": "ipconf0",
                            "ip_configuration.0.primary": "true",
                            "ip_configuration.0.private_ip_address": "",
                            "ip_configuration.0.private_ip_address_allocation": "dynamic",
                            "ip_configuration.0.private_ip_address_version": "IPv4",
                            "ip_configuration.0.public_ip_address_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/publicIPAddresses/dev-demo-bastion-pubip",
                            "ip_configuration.0.subnet_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/virtualNetworks/dev-demo-net/subnets/dev-demo-subnet1",
                            "location": "francecentral",
                            "mac_address": "",
                            "name": "dev-hashi-bastion-nic-0",
                            "network_security_group_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkSecurityGroups/dev-hashi-sg",
                            "private_ip_address": "10.0.1.5",
                            "private_ip_addresses.#": "1",
                            "private_ip_addresses.0": "10.0.1.5",
                            "resource_group_name": "dev-demo-rg",
                            "tags.%": "4",
                            "tags.cloud": "arm",
                            "tags.environment": "dev",
                            "tags.owner": "nehrman",
                            "tags.purpose": "Demo"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_network_interface.consul.0": {
                    "type": "azurerm_network_interface",
                    "depends_on": [
                        "azurerm_network_security_group.nsg",
                        "azurerm_resource_group.rg",
                        "azurerm_subnet.subnet"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-consul-nic-0",
                        "attributes": {
                            "applied_dns_servers.#": "0",
                            "dns_servers.#": "0",
                            "enable_accelerated_networking": "false",
                            "enable_ip_forwarding": "false",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-consul-nic-0",
                            "internal_dns_name_label": "",
                            "internal_fqdn": "",
                            "ip_configuration.#": "1",
                            "ip_configuration.0.application_gateway_backend_address_pools_ids.#": "0",
                            "ip_configuration.0.application_security_group_ids.#": "0",
                            "ip_configuration.0.load_balancer_backend_address_pools_ids.#": "0",
                            "ip_configuration.0.load_balancer_inbound_nat_rules_ids.#": "0",
                            "ip_configuration.0.name": "ipconf0",
                            "ip_configuration.0.primary": "true",
                            "ip_configuration.0.private_ip_address": "",
                            "ip_configuration.0.private_ip_address_allocation": "dynamic",
                            "ip_configuration.0.private_ip_address_version": "IPv4",
                            "ip_configuration.0.public_ip_address_id": "",
                            "ip_configuration.0.subnet_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/virtualNetworks/dev-demo-net/subnets/dev-demo-subnet1",
                            "location": "francecentral",
                            "mac_address": "",
                            "name": "dev-hashi-consul-nic-0",
                            "network_security_group_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkSecurityGroups/dev-hashi-sg",
                            "private_ip_address": "10.0.1.9",
                            "private_ip_addresses.#": "1",
                            "private_ip_addresses.0": "10.0.1.9",
                            "resource_group_name": "dev-demo-rg",
                            "tags.%": "4",
                            "tags.cloud": "arm",
                            "tags.environment": "dev",
                            "tags.owner": "nehrman",
                            "tags.purpose": "Demo"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_network_interface.consul.1": {
                    "type": "azurerm_network_interface",
                    "depends_on": [
                        "azurerm_network_security_group.nsg",
                        "azurerm_resource_group.rg",
                        "azurerm_subnet.subnet"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-consul-nic-1",
                        "attributes": {
                            "applied_dns_servers.#": "0",
                            "dns_servers.#": "0",
                            "enable_accelerated_networking": "false",
                            "enable_ip_forwarding": "false",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-consul-nic-1",
                            "internal_dns_name_label": "",
                            "internal_fqdn": "",
                            "ip_configuration.#": "1",
                            "ip_configuration.0.application_gateway_backend_address_pools_ids.#": "0",
                            "ip_configuration.0.application_security_group_ids.#": "0",
                            "ip_configuration.0.load_balancer_backend_address_pools_ids.#": "0",
                            "ip_configuration.0.load_balancer_inbound_nat_rules_ids.#": "0",
                            "ip_configuration.0.name": "ipconf1",
                            "ip_configuration.0.primary": "true",
                            "ip_configuration.0.private_ip_address": "",
                            "ip_configuration.0.private_ip_address_allocation": "dynamic",
                            "ip_configuration.0.private_ip_address_version": "IPv4",
                            "ip_configuration.0.public_ip_address_id": "",
                            "ip_configuration.0.subnet_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/virtualNetworks/dev-demo-net/subnets/dev-demo-subnet1",
                            "location": "francecentral",
                            "mac_address": "",
                            "name": "dev-hashi-consul-nic-1",
                            "network_security_group_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkSecurityGroups/dev-hashi-sg",
                            "private_ip_address": "10.0.1.8",
                            "private_ip_addresses.#": "1",
                            "private_ip_addresses.0": "10.0.1.8",
                            "resource_group_name": "dev-demo-rg",
                            "tags.%": "4",
                            "tags.cloud": "arm",
                            "tags.environment": "dev",
                            "tags.owner": "nehrman",
                            "tags.purpose": "Demo"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_network_interface.consul.2": {
                    "type": "azurerm_network_interface",
                    "depends_on": [
                        "azurerm_network_security_group.nsg",
                        "azurerm_resource_group.rg",
                        "azurerm_subnet.subnet"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-consul-nic-2",
                        "attributes": {
                            "applied_dns_servers.#": "0",
                            "dns_servers.#": "0",
                            "enable_accelerated_networking": "false",
                            "enable_ip_forwarding": "false",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-consul-nic-2",
                            "internal_dns_name_label": "",
                            "internal_fqdn": "",
                            "ip_configuration.#": "1",
                            "ip_configuration.0.application_gateway_backend_address_pools_ids.#": "0",
                            "ip_configuration.0.application_security_group_ids.#": "0",
                            "ip_configuration.0.load_balancer_backend_address_pools_ids.#": "0",
                            "ip_configuration.0.load_balancer_inbound_nat_rules_ids.#": "0",
                            "ip_configuration.0.name": "ipconf2",
                            "ip_configuration.0.primary": "true",
                            "ip_configuration.0.private_ip_address": "",
                            "ip_configuration.0.private_ip_address_allocation": "dynamic",
                            "ip_configuration.0.private_ip_address_version": "IPv4",
                            "ip_configuration.0.public_ip_address_id": "",
                            "ip_configuration.0.subnet_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/virtualNetworks/dev-demo-net/subnets/dev-demo-subnet1",
                            "location": "francecentral",
                            "mac_address": "",
                            "name": "dev-hashi-consul-nic-2",
                            "network_security_group_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkSecurityGroups/dev-hashi-sg",
                            "private_ip_address": "10.0.1.7",
                            "private_ip_addresses.#": "1",
                            "private_ip_addresses.0": "10.0.1.7",
                            "resource_group_name": "dev-demo-rg",
                            "tags.%": "4",
                            "tags.cloud": "arm",
                            "tags.environment": "dev",
                            "tags.owner": "nehrman",
                            "tags.purpose": "Demo"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_network_interface.vault.0": {
                    "type": "azurerm_network_interface",
                    "depends_on": [
                        "azurerm_network_security_group.nsg",
                        "azurerm_resource_group.rg",
                        "azurerm_subnet.subnet"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-vault-nic-0",
                        "attributes": {
                            "applied_dns_servers.#": "0",
                            "dns_servers.#": "0",
                            "enable_accelerated_networking": "false",
                            "enable_ip_forwarding": "false",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-vault-nic-0",
                            "internal_dns_name_label": "",
                            "internal_fqdn": "",
                            "ip_configuration.#": "1",
                            "ip_configuration.0.application_gateway_backend_address_pools_ids.#": "0",
                            "ip_configuration.0.application_security_group_ids.#": "0",
                            "ip_configuration.0.load_balancer_backend_address_pools_ids.#": "0",
                            "ip_configuration.0.load_balancer_inbound_nat_rules_ids.#": "0",
                            "ip_configuration.0.name": "ipconf0",
                            "ip_configuration.0.primary": "true",
                            "ip_configuration.0.private_ip_address": "",
                            "ip_configuration.0.private_ip_address_allocation": "dynamic",
                            "ip_configuration.0.private_ip_address_version": "IPv4",
                            "ip_configuration.0.public_ip_address_id": "",
                            "ip_configuration.0.subnet_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/virtualNetworks/dev-demo-net/subnets/dev-demo-subnet1",
                            "location": "francecentral",
                            "mac_address": "",
                            "name": "dev-hashi-vault-nic-0",
                            "network_security_group_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkSecurityGroups/dev-hashi-sg",
                            "private_ip_address": "10.0.1.6",
                            "private_ip_addresses.#": "1",
                            "private_ip_addresses.0": "10.0.1.6",
                            "resource_group_name": "dev-demo-rg",
                            "tags.%": "4",
                            "tags.cloud": "arm",
                            "tags.environment": "dev",
                            "tags.owner": "nehrman",
                            "tags.purpose": "Demo"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_network_interface.vault.1": {
                    "type": "azurerm_network_interface",
                    "depends_on": [
                        "azurerm_network_security_group.nsg",
                        "azurerm_resource_group.rg",
                        "azurerm_subnet.subnet"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-vault-nic-1",
                        "attributes": {
                            "applied_dns_servers.#": "0",
                            "dns_servers.#": "0",
                            "enable_accelerated_networking": "false",
                            "enable_ip_forwarding": "false",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-vault-nic-1",
                            "internal_dns_name_label": "",
                            "internal_fqdn": "",
                            "ip_configuration.#": "1",
                            "ip_configuration.0.application_gateway_backend_address_pools_ids.#": "0",
                            "ip_configuration.0.application_security_group_ids.#": "0",
                            "ip_configuration.0.load_balancer_backend_address_pools_ids.#": "0",
                            "ip_configuration.0.load_balancer_inbound_nat_rules_ids.#": "0",
                            "ip_configuration.0.name": "ipconf1",
                            "ip_configuration.0.primary": "true",
                            "ip_configuration.0.private_ip_address": "",
                            "ip_configuration.0.private_ip_address_allocation": "dynamic",
                            "ip_configuration.0.private_ip_address_version": "IPv4",
                            "ip_configuration.0.public_ip_address_id": "",
                            "ip_configuration.0.subnet_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/virtualNetworks/dev-demo-net/subnets/dev-demo-subnet1",
                            "location": "francecentral",
                            "mac_address": "",
                            "name": "dev-hashi-vault-nic-1",
                            "network_security_group_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkSecurityGroups/dev-hashi-sg",
                            "private_ip_address": "10.0.1.4",
                            "private_ip_addresses.#": "1",
                            "private_ip_addresses.0": "10.0.1.4",
                            "resource_group_name": "dev-demo-rg",
                            "tags.%": "4",
                            "tags.cloud": "arm",
                            "tags.environment": "dev",
                            "tags.owner": "nehrman",
                            "tags.purpose": "Demo"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_network_interface_backend_address_pool_association.vault.0": {
                    "type": "azurerm_network_interface_backend_address_pool_association",
                    "depends_on": [
                        "azurerm_lb_backend_address_pool.lb",
                        "azurerm_network_interface.vault.*"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-vault-nic-0/ipConfigurations/ipconf0|/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/loadBalancers/dev-demo-lb/backendAddressPools/dev-demo-bck-pool",
                        "attributes": {
                            "backend_address_pool_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/loadBalancers/dev-demo-lb/backendAddressPools/dev-demo-bck-pool",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-vault-nic-0/ipConfigurations/ipconf0|/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/loadBalancers/dev-demo-lb/backendAddressPools/dev-demo-bck-pool",
                            "ip_configuration_name": "ipconf0",
                            "network_interface_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-vault-nic-0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_network_interface_backend_address_pool_association.vault.1": {
                    "type": "azurerm_network_interface_backend_address_pool_association",
                    "depends_on": [
                        "azurerm_lb_backend_address_pool.lb",
                        "azurerm_network_interface.vault.*"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-vault-nic-1/ipConfigurations/ipconf1|/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/loadBalancers/dev-demo-lb/backendAddressPools/dev-demo-bck-pool",
                        "attributes": {
                            "backend_address_pool_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/loadBalancers/dev-demo-lb/backendAddressPools/dev-demo-bck-pool",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-vault-nic-1/ipConfigurations/ipconf1|/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/loadBalancers/dev-demo-lb/backendAddressPools/dev-demo-bck-pool",
                            "ip_configuration_name": "ipconf1",
                            "network_interface_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-vault-nic-1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_network_security_group.nsg": {
                    "type": "azurerm_network_security_group",
                    "depends_on": [
                        "azurerm_resource_group.rg"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkSecurityGroups/dev-hashi-sg",
                        "attributes": {
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkSecurityGroups/dev-hashi-sg",
                            "location": "francecentral",
                            "name": "dev-hashi-sg",
                            "resource_group_name": "dev-demo-rg",
                            "security_rule.#": "2",
                            "security_rule.3676973274.access": "Allow",
                            "security_rule.3676973274.description": "Allow SSH connection to Bastion",
                            "security_rule.3676973274.destination_address_prefix": "*",
                            "security_rule.3676973274.destination_address_prefixes.#": "0",
                            "security_rule.3676973274.destination_application_security_group_ids.#": "0",
                            "security_rule.3676973274.destination_port_range": "22",
                            "security_rule.3676973274.destination_port_ranges.#": "0",
                            "security_rule.3676973274.direction": "Inbound",
                            "security_rule.3676973274.name": "allow_remote_access_to_bastion",
                            "security_rule.3676973274.priority": "1000",
                            "security_rule.3676973274.protocol": "Tcp",
                            "security_rule.3676973274.source_address_prefix": "*",
                            "security_rule.3676973274.source_address_prefixes.#": "0",
                            "security_rule.3676973274.source_application_security_group_ids.#": "0",
                            "security_rule.3676973274.source_port_range": "*",
                            "security_rule.3676973274.source_port_ranges.#": "0",
                            "security_rule.934556260.access": "Allow",
                            "security_rule.934556260.description": "Allow SSH connection to Vault Servers",
                            "security_rule.934556260.destination_address_prefix": "*",
                            "security_rule.934556260.destination_address_prefixes.#": "0",
                            "security_rule.934556260.destination_application_security_group_ids.#": "0",
                            "security_rule.934556260.destination_port_range": "8200",
                            "security_rule.934556260.destination_port_ranges.#": "0",
                            "security_rule.934556260.direction": "Inbound",
                            "security_rule.934556260.name": "allow_remote_access_to_vault_servers",
                            "security_rule.934556260.priority": "900",
                            "security_rule.934556260.protocol": "Tcp",
                            "security_rule.934556260.source_address_prefix": "*",
                            "security_rule.934556260.source_address_prefixes.#": "0",
                            "security_rule.934556260.source_application_security_group_ids.#": "0",
                            "security_rule.934556260.source_port_range": "*",
                            "security_rule.934556260.source_port_ranges.#": "0",
                            "tags.%": "4",
                            "tags.cloud": "arm",
                            "tags.environment": "dev",
                            "tags.owner": "nehrman",
                            "tags.purpose": "Demo"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_public_ip.bastion": {
                    "type": "azurerm_public_ip",
                    "depends_on": [
                        "azurerm_resource_group.rg"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/publicIPAddresses/dev-demo-bastion-pubip",
                        "attributes": {
                            "allocation_method": "Static",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/publicIPAddresses/dev-demo-bastion-pubip",
                            "idle_timeout_in_minutes": "4",
                            "ip_address": "52.143.152.196",
                            "ip_version": "IPv4",
                            "location": "francecentral",
                            "name": "dev-demo-bastion-pubip",
                            "public_ip_address_allocation": "Static",
                            "resource_group_name": "dev-demo-rg",
                            "sku": "Basic",
                            "tags.%": "4",
                            "tags.cloud": "arm",
                            "tags.environment": "dev",
                            "tags.owner": "nehrman",
                            "tags.purpose": "Demo",
                            "zones.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_public_ip.lb": {
                    "type": "azurerm_public_ip",
                    "depends_on": [
                        "azurerm_resource_group.rg"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/publicIPAddresses/dev-demo-lb-pubip",
                        "attributes": {
                            "allocation_method": "Static",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/publicIPAddresses/dev-demo-lb-pubip",
                            "idle_timeout_in_minutes": "4",
                            "ip_address": "52.143.159.3",
                            "ip_version": "IPv4",
                            "location": "francecentral",
                            "name": "dev-demo-lb-pubip",
                            "public_ip_address_allocation": "Static",
                            "resource_group_name": "dev-demo-rg",
                            "sku": "Basic",
                            "tags.%": "4",
                            "tags.cloud": "arm",
                            "tags.environment": "dev",
                            "tags.owner": "nehrman",
                            "tags.purpose": "Demo",
                            "zones.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_resource_group.rg": {
                    "type": "azurerm_resource_group",
                    "depends_on": [],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg",
                        "attributes": {
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg",
                            "location": "francecentral",
                            "name": "dev-demo-rg",
                            "tags.%": "4",
                            "tags.cloud": "arm",
                            "tags.environment": "dev",
                            "tags.owner": "nehrman",
                            "tags.purpose": "Demo"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_storage_account.storageaccount": {
                    "type": "azurerm_storage_account",
                    "depends_on": [
                        "azurerm_resource_group.rg"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Storage/storageAccounts/hashidemoneh",
                        "attributes": {
                            "access_tier": "",
                            "account_encryption_source": "Microsoft.Storage",
                            "account_kind": "Storage",
                            "account_replication_type": "LRS",
                            "account_tier": "Standard",
                            "account_type": "Standard_LRS",
                            "enable_blob_encryption": "true",
                            "enable_file_encryption": "true",
                            "enable_https_traffic_only": "false",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Storage/storageAccounts/hashidemoneh",
                            "identity.#": "0",
                            "location": "francecentral",
                            "name": "hashidemoneh",
                            "network_rules.#": "0",
                            "primary_access_key": "ot4Nxysc21+19pkttQfQzUoX3yD45wIt65YdG53vsxAIc3CBog9AM0BaARKISIzT1E0er0zeG9OuwBCYLkPc5Q==",
                            "primary_blob_connection_string": "DefaultEndpointsProtocol=https;BlobEndpoint=https://hashidemoneh.blob.core.windows.net/;AccountName=hashidemoneh;AccountKey=ot4Nxysc21+19pkttQfQzUoX3yD45wIt65YdG53vsxAIc3CBog9AM0BaARKISIzT1E0er0zeG9OuwBCYLkPc5Q==",
                            "primary_blob_endpoint": "https://hashidemoneh.blob.core.windows.net/",
                            "primary_connection_string": "DefaultEndpointsProtocol=https;AccountName=hashidemoneh;AccountKey=ot4Nxysc21+19pkttQfQzUoX3yD45wIt65YdG53vsxAIc3CBog9AM0BaARKISIzT1E0er0zeG9OuwBCYLkPc5Q==;EndpointSuffix=core.windows.net",
                            "primary_file_endpoint": "https://hashidemoneh.file.core.windows.net/",
                            "primary_location": "francecentral",
                            "primary_queue_endpoint": "https://hashidemoneh.queue.core.windows.net/",
                            "primary_table_endpoint": "https://hashidemoneh.table.core.windows.net/",
                            "resource_group_name": "dev-demo-rg",
                            "secondary_access_key": "iqVTb2MvvFd9L6YZt7rzpoi7cq9ufrlTrsecuaycIbOlKObfzIaHtrTzMwvKCM2fqkyiBhWa1y3SMi/yy3TjYQ==",
                            "secondary_connection_string": "DefaultEndpointsProtocol=https;AccountName=hashidemoneh;AccountKey=iqVTb2MvvFd9L6YZt7rzpoi7cq9ufrlTrsecuaycIbOlKObfzIaHtrTzMwvKCM2fqkyiBhWa1y3SMi/yy3TjYQ==;EndpointSuffix=core.windows.net",
                            "secondary_location": "",
                            "tags.%": "4",
                            "tags.cloud": "arm",
                            "tags.environment": "dev",
                            "tags.owner": "nehrman",
                            "tags.purpose": "Demo"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_subnet.subnet": {
                    "type": "azurerm_subnet",
                    "depends_on": [
                        "azurerm_resource_group.rg",
                        "azurerm_virtual_network.net"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/virtualNetworks/dev-demo-net/subnets/dev-demo-subnet1",
                        "attributes": {
                            "address_prefix": "10.0.1.0/24",
                            "delegation.#": "0",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/virtualNetworks/dev-demo-net/subnets/dev-demo-subnet1",
                            "ip_configurations.#": "0",
                            "name": "dev-demo-subnet1",
                            "network_security_group_id": "",
                            "resource_group_name": "dev-demo-rg",
                            "route_table_id": "",
                            "service_endpoints.#": "0",
                            "virtual_network_name": "dev-demo-net"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_virtual_machine.bastion": {
                    "type": "azurerm_virtual_machine",
                    "depends_on": [
                        "azurerm_availability_set.avset",
                        "azurerm_network_interface.bastion.*",
                        "azurerm_resource_group.rg"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Compute/virtualMachines/dev-hashi-bastion-0",
                        "attributes": {
                            "availability_set_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourcegroups/dev-demo-rg/providers/microsoft.compute/availabilitysets/dev-hashi-avset",
                            "delete_data_disks_on_termination": "false",
                            "delete_os_disk_on_termination": "true",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Compute/virtualMachines/dev-hashi-bastion-0",
                            "identity.#": "0",
                            "location": "francecentral",
                            "name": "dev-hashi-bastion-0",
                            "network_interface_ids.#": "1",
                            "network_interface_ids.0": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-bastion-nic-0",
                            "os_profile.#": "1",
                            "os_profile.2241084666.admin_password": "",
                            "os_profile.2241084666.admin_username": "hashiadmin",
                            "os_profile.2241084666.computer_name": "dev-hashi-bastion-0",
                            "os_profile.2241084666.custom_data": "",
                            "os_profile_linux_config.#": "1",
                            "os_profile_linux_config.69840937.disable_password_authentication": "true",
                            "os_profile_linux_config.69840937.ssh_keys.#": "1",
                            "os_profile_linux_config.69840937.ssh_keys.0.key_data": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC4oo5BbgZwTRrm9H0gVBveYV6Rx/7ORskgz0MGcAfTRFlYfkpnZFDEox9B1xBavWUCpIKwTLgHwzcepiQ9+8hK280pMpCqnp5Q3e2EGJ3tHji6vPhZFNFjhq2b8nhY1aQFxt31L3pX2kZwjPa5cfRkeyUCwxqbbyar5sks8JxBA2l+KhelM1fR8jcXHF9MUWHfxL8bjw9AmD24p3j35UmU3yQZGShITvFdEgnLOaOXjwqylrTK0XzV4R0AO7sJrse97xZaD3jYUEFCxqf1xo2rRSD2y2goQ8WnVv66Ep9CVg/jMG99UCWNCfKZSCsopM4xBP5h5YOSC6QyBDBjXfT/ nicolas@MacBook-Pro-de-Nicolas.local",
                            "os_profile_linux_config.69840937.ssh_keys.0.path": "/home/hashiadmin/.ssh/authorized_keys",
                            "os_profile_secrets.#": "0",
                            "os_profile_windows_config.#": "0",
                            "plan.#": "0",
                            "resource_group_name": "dev-demo-rg",
                            "storage_data_disk.#": "0",
                            "storage_image_reference.#": "1",
                            "storage_image_reference.1211973898.id": "",
                            "storage_image_reference.1211973898.offer": "UbuntuServer",
                            "storage_image_reference.1211973898.publisher": "Canonical",
                            "storage_image_reference.1211973898.sku": "18.04-LTS",
                            "storage_image_reference.1211973898.version": "latest",
                            "storage_os_disk.#": "1",
                            "storage_os_disk.0.caching": "ReadWrite",
                            "storage_os_disk.0.create_option": "FromImage",
                            "storage_os_disk.0.disk_size_gb": "30",
                            "storage_os_disk.0.image_uri": "",
                            "storage_os_disk.0.managed_disk_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Compute/disks/dev-hashi-bastion-0-osdisk1",
                            "storage_os_disk.0.managed_disk_type": "Standard_LRS",
                            "storage_os_disk.0.name": "dev-hashi-bastion-0-osdisk1",
                            "storage_os_disk.0.os_type": "Linux",
                            "storage_os_disk.0.vhd_uri": "",
                            "storage_os_disk.0.write_accelerator_enabled": "false",
                            "tags.%": "4",
                            "tags.cloud": "arm",
                            "tags.environment": "dev",
                            "tags.owner": "nehrman",
                            "tags.purpose": "Demo",
                            "vm_size": "Standard_D2_V3",
                            "zones.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_virtual_machine.consul.0": {
                    "type": "azurerm_virtual_machine",
                    "depends_on": [
                        "azurerm_availability_set.avset",
                        "azurerm_network_interface.consul.*",
                        "azurerm_resource_group.rg"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Compute/virtualMachines/dev-hashi-consul-0",
                        "attributes": {
                            "availability_set_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourcegroups/dev-demo-rg/providers/microsoft.compute/availabilitysets/dev-hashi-avset",
                            "delete_data_disks_on_termination": "false",
                            "delete_os_disk_on_termination": "true",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Compute/virtualMachines/dev-hashi-consul-0",
                            "identity.#": "0",
                            "location": "francecentral",
                            "name": "dev-hashi-consul-0",
                            "network_interface_ids.#": "1",
                            "network_interface_ids.0": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-consul-nic-0",
                            "os_profile.#": "1",
                            "os_profile.3196616623.admin_password": "",
                            "os_profile.3196616623.admin_username": "hashiadmin",
                            "os_profile.3196616623.computer_name": "dev-hashi-consul-0",
                            "os_profile.3196616623.custom_data": "",
                            "os_profile_linux_config.#": "1",
                            "os_profile_linux_config.69840937.disable_password_authentication": "true",
                            "os_profile_linux_config.69840937.ssh_keys.#": "1",
                            "os_profile_linux_config.69840937.ssh_keys.0.key_data": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC4oo5BbgZwTRrm9H0gVBveYV6Rx/7ORskgz0MGcAfTRFlYfkpnZFDEox9B1xBavWUCpIKwTLgHwzcepiQ9+8hK280pMpCqnp5Q3e2EGJ3tHji6vPhZFNFjhq2b8nhY1aQFxt31L3pX2kZwjPa5cfRkeyUCwxqbbyar5sks8JxBA2l+KhelM1fR8jcXHF9MUWHfxL8bjw9AmD24p3j35UmU3yQZGShITvFdEgnLOaOXjwqylrTK0XzV4R0AO7sJrse97xZaD3jYUEFCxqf1xo2rRSD2y2goQ8WnVv66Ep9CVg/jMG99UCWNCfKZSCsopM4xBP5h5YOSC6QyBDBjXfT/ nicolas@MacBook-Pro-de-Nicolas.local",
                            "os_profile_linux_config.69840937.ssh_keys.0.path": "/home/hashiadmin/.ssh/authorized_keys",
                            "os_profile_secrets.#": "0",
                            "os_profile_windows_config.#": "0",
                            "plan.#": "0",
                            "resource_group_name": "dev-demo-rg",
                            "storage_data_disk.#": "0",
                            "storage_image_reference.#": "1",
                            "storage_image_reference.1211973898.id": "",
                            "storage_image_reference.1211973898.offer": "UbuntuServer",
                            "storage_image_reference.1211973898.publisher": "Canonical",
                            "storage_image_reference.1211973898.sku": "18.04-LTS",
                            "storage_image_reference.1211973898.version": "latest",
                            "storage_os_disk.#": "1",
                            "storage_os_disk.0.caching": "ReadWrite",
                            "storage_os_disk.0.create_option": "FromImage",
                            "storage_os_disk.0.disk_size_gb": "30",
                            "storage_os_disk.0.image_uri": "",
                            "storage_os_disk.0.managed_disk_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Compute/disks/dev-hashi-consul-0-osdisk1",
                            "storage_os_disk.0.managed_disk_type": "Standard_LRS",
                            "storage_os_disk.0.name": "dev-hashi-consul-0-osdisk1",
                            "storage_os_disk.0.os_type": "Linux",
                            "storage_os_disk.0.vhd_uri": "",
                            "storage_os_disk.0.write_accelerator_enabled": "false",
                            "tags.%": "4",
                            "tags.cloud": "arm",
                            "tags.environment": "dev",
                            "tags.owner": "nehrman",
                            "tags.purpose": "Demo",
                            "vm_size": "Standard_D2_V3",
                            "zones.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_virtual_machine.consul.1": {
                    "type": "azurerm_virtual_machine",
                    "depends_on": [
                        "azurerm_availability_set.avset",
                        "azurerm_network_interface.consul.*",
                        "azurerm_resource_group.rg"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Compute/virtualMachines/dev-hashi-consul-1",
                        "attributes": {
                            "availability_set_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourcegroups/dev-demo-rg/providers/microsoft.compute/availabilitysets/dev-hashi-avset",
                            "delete_data_disks_on_termination": "false",
                            "delete_os_disk_on_termination": "true",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Compute/virtualMachines/dev-hashi-consul-1",
                            "identity.#": "0",
                            "location": "francecentral",
                            "name": "dev-hashi-consul-1",
                            "network_interface_ids.#": "1",
                            "network_interface_ids.0": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-consul-nic-1",
                            "os_profile.#": "1",
                            "os_profile.2811449070.admin_password": "",
                            "os_profile.2811449070.admin_username": "hashiadmin",
                            "os_profile.2811449070.computer_name": "dev-hashi-consul-1",
                            "os_profile.2811449070.custom_data": "",
                            "os_profile_linux_config.#": "1",
                            "os_profile_linux_config.69840937.disable_password_authentication": "true",
                            "os_profile_linux_config.69840937.ssh_keys.#": "1",
                            "os_profile_linux_config.69840937.ssh_keys.0.key_data": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC4oo5BbgZwTRrm9H0gVBveYV6Rx/7ORskgz0MGcAfTRFlYfkpnZFDEox9B1xBavWUCpIKwTLgHwzcepiQ9+8hK280pMpCqnp5Q3e2EGJ3tHji6vPhZFNFjhq2b8nhY1aQFxt31L3pX2kZwjPa5cfRkeyUCwxqbbyar5sks8JxBA2l+KhelM1fR8jcXHF9MUWHfxL8bjw9AmD24p3j35UmU3yQZGShITvFdEgnLOaOXjwqylrTK0XzV4R0AO7sJrse97xZaD3jYUEFCxqf1xo2rRSD2y2goQ8WnVv66Ep9CVg/jMG99UCWNCfKZSCsopM4xBP5h5YOSC6QyBDBjXfT/ nicolas@MacBook-Pro-de-Nicolas.local",
                            "os_profile_linux_config.69840937.ssh_keys.0.path": "/home/hashiadmin/.ssh/authorized_keys",
                            "os_profile_secrets.#": "0",
                            "os_profile_windows_config.#": "0",
                            "plan.#": "0",
                            "resource_group_name": "dev-demo-rg",
                            "storage_data_disk.#": "0",
                            "storage_image_reference.#": "1",
                            "storage_image_reference.1211973898.id": "",
                            "storage_image_reference.1211973898.offer": "UbuntuServer",
                            "storage_image_reference.1211973898.publisher": "Canonical",
                            "storage_image_reference.1211973898.sku": "18.04-LTS",
                            "storage_image_reference.1211973898.version": "latest",
                            "storage_os_disk.#": "1",
                            "storage_os_disk.0.caching": "ReadWrite",
                            "storage_os_disk.0.create_option": "FromImage",
                            "storage_os_disk.0.disk_size_gb": "30",
                            "storage_os_disk.0.image_uri": "",
                            "storage_os_disk.0.managed_disk_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Compute/disks/dev-hashi-consul-1-osdisk1",
                            "storage_os_disk.0.managed_disk_type": "Standard_LRS",
                            "storage_os_disk.0.name": "dev-hashi-consul-1-osdisk1",
                            "storage_os_disk.0.os_type": "Linux",
                            "storage_os_disk.0.vhd_uri": "",
                            "storage_os_disk.0.write_accelerator_enabled": "false",
                            "tags.%": "4",
                            "tags.cloud": "arm",
                            "tags.environment": "dev",
                            "tags.owner": "nehrman",
                            "tags.purpose": "Demo",
                            "vm_size": "Standard_D2_V3",
                            "zones.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_virtual_machine.consul.2": {
                    "type": "azurerm_virtual_machine",
                    "depends_on": [
                        "azurerm_availability_set.avset",
                        "azurerm_network_interface.consul.*",
                        "azurerm_resource_group.rg"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Compute/virtualMachines/dev-hashi-consul-2",
                        "attributes": {
                            "availability_set_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourcegroups/dev-demo-rg/providers/microsoft.compute/availabilitysets/dev-hashi-avset",
                            "delete_data_disks_on_termination": "false",
                            "delete_os_disk_on_termination": "true",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Compute/virtualMachines/dev-hashi-consul-2",
                            "identity.#": "0",
                            "location": "francecentral",
                            "name": "dev-hashi-consul-2",
                            "network_interface_ids.#": "1",
                            "network_interface_ids.0": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-consul-nic-2",
                            "os_profile.#": "1",
                            "os_profile.2361269549.admin_password": "",
                            "os_profile.2361269549.admin_username": "hashiadmin",
                            "os_profile.2361269549.computer_name": "dev-hashi-consul-2",
                            "os_profile.2361269549.custom_data": "",
                            "os_profile_linux_config.#": "1",
                            "os_profile_linux_config.69840937.disable_password_authentication": "true",
                            "os_profile_linux_config.69840937.ssh_keys.#": "1",
                            "os_profile_linux_config.69840937.ssh_keys.0.key_data": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC4oo5BbgZwTRrm9H0gVBveYV6Rx/7ORskgz0MGcAfTRFlYfkpnZFDEox9B1xBavWUCpIKwTLgHwzcepiQ9+8hK280pMpCqnp5Q3e2EGJ3tHji6vPhZFNFjhq2b8nhY1aQFxt31L3pX2kZwjPa5cfRkeyUCwxqbbyar5sks8JxBA2l+KhelM1fR8jcXHF9MUWHfxL8bjw9AmD24p3j35UmU3yQZGShITvFdEgnLOaOXjwqylrTK0XzV4R0AO7sJrse97xZaD3jYUEFCxqf1xo2rRSD2y2goQ8WnVv66Ep9CVg/jMG99UCWNCfKZSCsopM4xBP5h5YOSC6QyBDBjXfT/ nicolas@MacBook-Pro-de-Nicolas.local",
                            "os_profile_linux_config.69840937.ssh_keys.0.path": "/home/hashiadmin/.ssh/authorized_keys",
                            "os_profile_secrets.#": "0",
                            "os_profile_windows_config.#": "0",
                            "plan.#": "0",
                            "resource_group_name": "dev-demo-rg",
                            "storage_data_disk.#": "0",
                            "storage_image_reference.#": "1",
                            "storage_image_reference.1211973898.id": "",
                            "storage_image_reference.1211973898.offer": "UbuntuServer",
                            "storage_image_reference.1211973898.publisher": "Canonical",
                            "storage_image_reference.1211973898.sku": "18.04-LTS",
                            "storage_image_reference.1211973898.version": "latest",
                            "storage_os_disk.#": "1",
                            "storage_os_disk.0.caching": "ReadWrite",
                            "storage_os_disk.0.create_option": "FromImage",
                            "storage_os_disk.0.disk_size_gb": "30",
                            "storage_os_disk.0.image_uri": "",
                            "storage_os_disk.0.managed_disk_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Compute/disks/dev-hashi-consul-2-osdisk1",
                            "storage_os_disk.0.managed_disk_type": "Standard_LRS",
                            "storage_os_disk.0.name": "dev-hashi-consul-2-osdisk1",
                            "storage_os_disk.0.os_type": "Linux",
                            "storage_os_disk.0.vhd_uri": "",
                            "storage_os_disk.0.write_accelerator_enabled": "false",
                            "tags.%": "4",
                            "tags.cloud": "arm",
                            "tags.environment": "dev",
                            "tags.owner": "nehrman",
                            "tags.purpose": "Demo",
                            "vm_size": "Standard_D2_V3",
                            "zones.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_virtual_machine.vault.0": {
                    "type": "azurerm_virtual_machine",
                    "depends_on": [
                        "azurerm_availability_set.avset",
                        "azurerm_network_interface.vault.*",
                        "azurerm_resource_group.rg"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Compute/virtualMachines/dev-hashi-vault-0",
                        "attributes": {
                            "availability_set_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourcegroups/dev-demo-rg/providers/microsoft.compute/availabilitysets/dev-hashi-avset",
                            "delete_data_disks_on_termination": "false",
                            "delete_os_disk_on_termination": "true",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Compute/virtualMachines/dev-hashi-vault-0",
                            "identity.#": "1",
                            "identity.0.identity_ids.#": "0",
                            "identity.0.principal_id": "970137e2-0263-4188-8668-d588ccd14cf8",
                            "identity.0.type": "SystemAssigned",
                            "location": "francecentral",
                            "name": "dev-hashi-vault-0",
                            "network_interface_ids.#": "1",
                            "network_interface_ids.0": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-vault-nic-0",
                            "os_profile.#": "1",
                            "os_profile.911145271.admin_password": "",
                            "os_profile.911145271.admin_username": "hashiadmin",
                            "os_profile.911145271.computer_name": "dev-hashi-vault-0",
                            "os_profile.911145271.custom_data": "",
                            "os_profile_linux_config.#": "1",
                            "os_profile_linux_config.69840937.disable_password_authentication": "true",
                            "os_profile_linux_config.69840937.ssh_keys.#": "1",
                            "os_profile_linux_config.69840937.ssh_keys.0.key_data": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC4oo5BbgZwTRrm9H0gVBveYV6Rx/7ORskgz0MGcAfTRFlYfkpnZFDEox9B1xBavWUCpIKwTLgHwzcepiQ9+8hK280pMpCqnp5Q3e2EGJ3tHji6vPhZFNFjhq2b8nhY1aQFxt31L3pX2kZwjPa5cfRkeyUCwxqbbyar5sks8JxBA2l+KhelM1fR8jcXHF9MUWHfxL8bjw9AmD24p3j35UmU3yQZGShITvFdEgnLOaOXjwqylrTK0XzV4R0AO7sJrse97xZaD3jYUEFCxqf1xo2rRSD2y2goQ8WnVv66Ep9CVg/jMG99UCWNCfKZSCsopM4xBP5h5YOSC6QyBDBjXfT/ nicolas@MacBook-Pro-de-Nicolas.local",
                            "os_profile_linux_config.69840937.ssh_keys.0.path": "/home/hashiadmin/.ssh/authorized_keys",
                            "os_profile_secrets.#": "0",
                            "os_profile_windows_config.#": "0",
                            "plan.#": "0",
                            "resource_group_name": "dev-demo-rg",
                            "storage_data_disk.#": "0",
                            "storage_image_reference.#": "1",
                            "storage_image_reference.1211973898.id": "",
                            "storage_image_reference.1211973898.offer": "UbuntuServer",
                            "storage_image_reference.1211973898.publisher": "Canonical",
                            "storage_image_reference.1211973898.sku": "18.04-LTS",
                            "storage_image_reference.1211973898.version": "latest",
                            "storage_os_disk.#": "1",
                            "storage_os_disk.0.caching": "ReadWrite",
                            "storage_os_disk.0.create_option": "FromImage",
                            "storage_os_disk.0.disk_size_gb": "30",
                            "storage_os_disk.0.image_uri": "",
                            "storage_os_disk.0.managed_disk_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Compute/disks/dev-hashi-vault-0-osdisk1",
                            "storage_os_disk.0.managed_disk_type": "Standard_LRS",
                            "storage_os_disk.0.name": "dev-hashi-vault-0-osdisk1",
                            "storage_os_disk.0.os_type": "Linux",
                            "storage_os_disk.0.vhd_uri": "",
                            "storage_os_disk.0.write_accelerator_enabled": "false",
                            "tags.%": "4",
                            "tags.cloud": "arm",
                            "tags.environment": "dev",
                            "tags.owner": "nehrman",
                            "tags.purpose": "Demo",
                            "vm_size": "Standard_D2_V3",
                            "zones.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_virtual_machine.vault.1": {
                    "type": "azurerm_virtual_machine",
                    "depends_on": [
                        "azurerm_availability_set.avset",
                        "azurerm_network_interface.vault.*",
                        "azurerm_resource_group.rg"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Compute/virtualMachines/dev-hashi-vault-1",
                        "attributes": {
                            "availability_set_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourcegroups/dev-demo-rg/providers/microsoft.compute/availabilitysets/dev-hashi-avset",
                            "delete_data_disks_on_termination": "false",
                            "delete_os_disk_on_termination": "true",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Compute/virtualMachines/dev-hashi-vault-1",
                            "identity.#": "1",
                            "identity.0.identity_ids.#": "0",
                            "identity.0.principal_id": "4fdc0e22-a731-496a-8e46-b2d728cea9c8",
                            "identity.0.type": "SystemAssigned",
                            "location": "francecentral",
                            "name": "dev-hashi-vault-1",
                            "network_interface_ids.#": "1",
                            "network_interface_ids.0": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/networkInterfaces/dev-hashi-vault-nic-1",
                            "os_profile.#": "1",
                            "os_profile.794151030.admin_password": "",
                            "os_profile.794151030.admin_username": "hashiadmin",
                            "os_profile.794151030.computer_name": "dev-hashi-vault-1",
                            "os_profile.794151030.custom_data": "",
                            "os_profile_linux_config.#": "1",
                            "os_profile_linux_config.69840937.disable_password_authentication": "true",
                            "os_profile_linux_config.69840937.ssh_keys.#": "1",
                            "os_profile_linux_config.69840937.ssh_keys.0.key_data": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC4oo5BbgZwTRrm9H0gVBveYV6Rx/7ORskgz0MGcAfTRFlYfkpnZFDEox9B1xBavWUCpIKwTLgHwzcepiQ9+8hK280pMpCqnp5Q3e2EGJ3tHji6vPhZFNFjhq2b8nhY1aQFxt31L3pX2kZwjPa5cfRkeyUCwxqbbyar5sks8JxBA2l+KhelM1fR8jcXHF9MUWHfxL8bjw9AmD24p3j35UmU3yQZGShITvFdEgnLOaOXjwqylrTK0XzV4R0AO7sJrse97xZaD3jYUEFCxqf1xo2rRSD2y2goQ8WnVv66Ep9CVg/jMG99UCWNCfKZSCsopM4xBP5h5YOSC6QyBDBjXfT/ nicolas@MacBook-Pro-de-Nicolas.local",
                            "os_profile_linux_config.69840937.ssh_keys.0.path": "/home/hashiadmin/.ssh/authorized_keys",
                            "os_profile_secrets.#": "0",
                            "os_profile_windows_config.#": "0",
                            "plan.#": "0",
                            "resource_group_name": "dev-demo-rg",
                            "storage_data_disk.#": "0",
                            "storage_image_reference.#": "1",
                            "storage_image_reference.1211973898.id": "",
                            "storage_image_reference.1211973898.offer": "UbuntuServer",
                            "storage_image_reference.1211973898.publisher": "Canonical",
                            "storage_image_reference.1211973898.sku": "18.04-LTS",
                            "storage_image_reference.1211973898.version": "latest",
                            "storage_os_disk.#": "1",
                            "storage_os_disk.0.caching": "ReadWrite",
                            "storage_os_disk.0.create_option": "FromImage",
                            "storage_os_disk.0.disk_size_gb": "30",
                            "storage_os_disk.0.image_uri": "",
                            "storage_os_disk.0.managed_disk_id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Compute/disks/dev-hashi-vault-1-osdisk1",
                            "storage_os_disk.0.managed_disk_type": "Standard_LRS",
                            "storage_os_disk.0.name": "dev-hashi-vault-1-osdisk1",
                            "storage_os_disk.0.os_type": "Linux",
                            "storage_os_disk.0.vhd_uri": "",
                            "storage_os_disk.0.write_accelerator_enabled": "false",
                            "tags.%": "4",
                            "tags.cloud": "arm",
                            "tags.environment": "dev",
                            "tags.owner": "nehrman",
                            "tags.purpose": "Demo",
                            "vm_size": "Standard_D2_V3",
                            "zones.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_virtual_machine_extension.bastion": {
                    "type": "azurerm_virtual_machine_extension",
                    "depends_on": [
                        "azurerm_resource_group.rg",
                        "azurerm_virtual_machine.bastion"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Compute/virtualMachines/dev-hashi-bastion-0/extensions/bastion",
                        "attributes": {
                            "auto_upgrade_minor_version": "false",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Compute/virtualMachines/dev-hashi-bastion-0/extensions/bastion",
                            "location": "francecentral",
                            "name": "bastion",
                            "publisher": "Microsoft.Azure.Extensions",
                            "resource_group_name": "dev-demo-rg",
                            "settings": "{\"commandToExecute\":\"sudo apt-get install -y ansible python-pip\"}",
                            "tags.%": "4",
                            "tags.cloud": "arm",
                            "tags.environment": "dev",
                            "tags.owner": "nehrman",
                            "tags.purpose": "Demo",
                            "type": "CustomScript",
                            "type_handler_version": "2.0",
                            "virtual_machine_name": "dev-hashi-bastion-0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "azurerm_virtual_network.net": {
                    "type": "azurerm_virtual_network",
                    "depends_on": [
                        "azurerm_resource_group.rg"
                    ],
                    "primary": {
                        "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/virtualNetworks/dev-demo-net",
                        "attributes": {
                            "address_space.#": "1",
                            "address_space.0": "10.0.0.0/16",
                            "dns_servers.#": "0",
                            "id": "/subscriptions/c0a607b2-6372-4ef3-abdb-dbe52a7b56ba/resourceGroups/dev-demo-rg/providers/Microsoft.Network/virtualNetworks/dev-demo-net",
                            "location": "francecentral",
                            "name": "dev-demo-net",
                            "resource_group_name": "dev-demo-rg",
                            "subnet.#": "0",
                            "tags.%": "4",
                            "tags.cloud": "arm",
                            "tags.environment": "dev",
                            "tags.owner": "nehrman",
                            "tags.purpose": "Demo"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "data.azurerm_client_config.current": {
                    "type": "azurerm_client_config",
                    "depends_on": [],
                    "primary": {
                        "id": "2019-02-07 08:03:18.525219 +0000 UTC",
                        "attributes": {
                            "client_id": "04b07795-8ddb-461a-bbee-02f9e1bf7b46",
                            "id": "2019-02-07 08:03:18.525219 +0000 UTC",
                            "service_principal_application_id": "",
                            "service_principal_object_id": "",
                            "subscription_id": "c0a607b2-6372-4ef3-abdb-dbe52a7b56ba",
                            "tenant_id": "0e3e2e88-8caf-41ca-b4da-e3b33b6c52ec"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.azurerm"
                },
                "data.template_file.ansible_consul_client_hosts.0": {
                    "type": "template_file",
                    "depends_on": [
                        "azurerm_virtual_machine.vault",
                        "azurerm_virtual_machine.vault.*"
                    ],
                    "primary": {
                        "id": "646b1605f48dcc66c767257eb1e535d42a6b177f79c11a205d3781dfe20c348f",
                        "attributes": {
                            "id": "646b1605f48dcc66c767257eb1e535d42a6b177f79c11a205d3781dfe20c348f",
                            "rendered": "dev-hashi-vault-0 consul_node_name=dev-hashi-vault-0\n",
                            "template": "${consul_client_node_name} consul_node_name=${consul_client_node_name}\n",
                            "vars.%": "1",
                            "vars.consul_client_node_name": "dev-hashi-vault-0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.ansible_consul_client_hosts.1": {
                    "type": "template_file",
                    "depends_on": [
                        "azurerm_virtual_machine.vault",
                        "azurerm_virtual_machine.vault.*"
                    ],
                    "primary": {
                        "id": "416a19cef61fa9191dd275e451a56915a729f0922a13c8941bfbfa5af3b47d08",
                        "attributes": {
                            "id": "416a19cef61fa9191dd275e451a56915a729f0922a13c8941bfbfa5af3b47d08",
                            "rendered": "dev-hashi-vault-1 consul_node_name=dev-hashi-vault-1\n",
                            "template": "${consul_client_node_name} consul_node_name=${consul_client_node_name}\n",
                            "vars.%": "1",
                            "vars.consul_client_node_name": "dev-hashi-vault-1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.ansible_consul_server_hosts.0": {
                    "type": "template_file",
                    "depends_on": [
                        "azurerm_network_interface.consul.*",
                        "azurerm_virtual_machine.consul",
                        "azurerm_virtual_machine.consul.*",
                        "azurerm_virtual_machine.vault"
                    ],
                    "primary": {
                        "id": "a3c057c9fc4d3b877bf1373f5d3228a78f3e73f83b0789369841508bd71a5c53",
                        "attributes": {
                            "id": "a3c057c9fc4d3b877bf1373f5d3228a78f3e73f83b0789369841508bd71a5c53",
                            "rendered": "dev-hashi-consul-0 consul_node_name=dev-hashi-consul-0  consul_client_address=10.0.1.9 consul_node_role=bootstrap\n",
                            "template": "${consul_node_server_name} consul_node_name=${consul_node_server_name}  consul_client_address=${consul_bind_address} consul_node_role=${consul_server_role}\n",
                            "vars.%": "3",
                            "vars.consul_bind_address": "10.0.1.9",
                            "vars.consul_node_server_name": "dev-hashi-consul-0",
                            "vars.consul_server_role": "bootstrap"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.ansible_consul_server_hosts.1": {
                    "type": "template_file",
                    "depends_on": [
                        "azurerm_network_interface.consul.*",
                        "azurerm_virtual_machine.consul",
                        "azurerm_virtual_machine.consul.*",
                        "azurerm_virtual_machine.vault"
                    ],
                    "primary": {
                        "id": "466080d54521c1cd0a8a569ff61c15b28df63c6db3cb6789c1b7aec13375ac61",
                        "attributes": {
                            "id": "466080d54521c1cd0a8a569ff61c15b28df63c6db3cb6789c1b7aec13375ac61",
                            "rendered": "dev-hashi-consul-1 consul_node_name=dev-hashi-consul-1  consul_client_address=10.0.1.8 consul_node_role=server\n",
                            "template": "${consul_node_server_name} consul_node_name=${consul_node_server_name}  consul_client_address=${consul_bind_address} consul_node_role=${consul_server_role}\n",
                            "vars.%": "3",
                            "vars.consul_bind_address": "10.0.1.8",
                            "vars.consul_node_server_name": "dev-hashi-consul-1",
                            "vars.consul_server_role": "server"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.ansible_consul_server_hosts.2": {
                    "type": "template_file",
                    "depends_on": [
                        "azurerm_network_interface.consul.*",
                        "azurerm_virtual_machine.consul",
                        "azurerm_virtual_machine.consul.*",
                        "azurerm_virtual_machine.vault"
                    ],
                    "primary": {
                        "id": "a3c690c39c73b3e16967f5860b9fc797c654c7a8e0becea068c4386e73a9dc39",
                        "attributes": {
                            "id": "a3c690c39c73b3e16967f5860b9fc797c654c7a8e0becea068c4386e73a9dc39",
                            "rendered": "dev-hashi-consul-2 consul_node_name=dev-hashi-consul-2  consul_client_address=10.0.1.7 consul_node_role=server\n",
                            "template": "${consul_node_server_name} consul_node_name=${consul_node_server_name}  consul_client_address=${consul_bind_address} consul_node_role=${consul_server_role}\n",
                            "vars.%": "3",
                            "vars.consul_bind_address": "10.0.1.7",
                            "vars.consul_node_server_name": "dev-hashi-consul-2",
                            "vars.consul_server_role": "server"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.ansible_groups": {
                    "type": "template_file",
                    "depends_on": [
                        "data.template_file.ansible_consul_client_hosts.*",
                        "data.template_file.ansible_consul_server_hosts.*",
                        "data.template_file.ansible_vault_hosts.*"
                    ],
                    "primary": {
                        "id": "5295354b44401c4cc3b49f2243af4e3c39ebf6067567b39bfe86bc8c4a23aae4",
                        "attributes": {
                            "id": "5295354b44401c4cc3b49f2243af4e3c39ebf6067567b39bfe86bc8c4a23aae4",
                            "rendered": "[consul_instances]\ndev-hashi-consul-0 consul_node_name=dev-hashi-consul-0  consul_client_address=10.0.1.9 consul_node_role=bootstrap\ndev-hashi-consul-1 consul_node_name=dev-hashi-consul-1  consul_client_address=10.0.1.8 consul_node_role=server\ndev-hashi-consul-2 consul_node_name=dev-hashi-consul-2  consul_client_address=10.0.1.7 consul_node_role=server\n\ndev-hashi-vault-0 consul_node_name=dev-hashi-vault-0\ndev-hashi-vault-1 consul_node_name=dev-hashi-vault-1\n\n\n[vault_instances]\ndev-hashi-vault-0 \ndev-hashi-vault-1 \n",
                            "template": "[consul_instances]\n${consul_server_hosts_def}\n${consul_client_hosts_def}\n\n[vault_instances]\n${vault_hosts_def}",
                            "vars.%": "3",
                            "vars.consul_client_hosts_def": "dev-hashi-vault-0 consul_node_name=dev-hashi-vault-0\ndev-hashi-vault-1 consul_node_name=dev-hashi-vault-1\n",
                            "vars.consul_server_hosts_def": "dev-hashi-consul-0 consul_node_name=dev-hashi-consul-0  consul_client_address=10.0.1.9 consul_node_role=bootstrap\ndev-hashi-consul-1 consul_node_name=dev-hashi-consul-1  consul_client_address=10.0.1.8 consul_node_role=server\ndev-hashi-consul-2 consul_node_name=dev-hashi-consul-2  consul_client_address=10.0.1.7 consul_node_role=server\n",
                            "vars.vault_hosts_def": "dev-hashi-vault-0 \ndev-hashi-vault-1 \n"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.ansible_site": {
                    "type": "template_file",
                    "depends_on": [
                        "azurerm_key_vault.vault_unseal",
                        "azurerm_key_vault_key.vault_unseal",
                        "azurerm_virtual_machine.consul",
                        "azurerm_virtual_machine.vault",
                        "data.azurerm_client_config.current"
                    ],
                    "primary": {
                        "id": "bcda98f8a30f1b010713872bda84529db409bc434d3c120575726b711a734fb4",
                        "attributes": {
                            "id": "bcda98f8a30f1b010713872bda84529db409bc434d3c120575726b711a734fb4",
                            "rendered": "- name: Configure Consul cluster\n  hosts: consul_instances\n  any_errors_fatal: true\n  become: true\n  become_user: root\n  roles:\n    - {role: ansible-consul}\n  vars:\n    ansible_ssh_user: hashiadmin\n    consul_iface: eth0\n    consul_install_remotely: true\n    consul_version: 1.4.2\n    consul_dnsmasq_enable: true\n    consul_install_upgrade: true\n    consul_pkg: \"consul-enterprise_{{consul_version}}+ent_linux_amd64.zip\"\n    consul_checksum_file_url: https://s3-us-west-2.amazonaws.com/hc-enterprise-binaries/consul/ent/{{consul_version}}/consul-enterprise_{{consul_version}}%2Bent_SHA256SUMS\n    consul_zip_url: https://s3-us-west-2.amazonaws.com/hc-enterprise-binaries/consul/ent/{{consul_version}}/consul-enterprise_{{consul_version}}%2Bent_linux_amd64.zip\n\n- name: Install Vault\n  hosts: vault_instances\n  any_errors_fatal: true\n  become: true\n  become_user: root\n  roles:\n    - {role: ansible-vault}\n  vars:\n    ansible_ssh_user: hashiadmin\n    vault_azurekeyvault: true\n    vault_azurekeyvault_tenant_id: 0e3e2e88-8caf-41ca-b4da-e3b33b6c52ec\n    vault_azurekeyvault_vault_name: testvaultvault\n    vault_azurekeyvault_key_name: generated-certificate\n    vault_iface: eth0\n    vault_install_remotely: true\n    vault_version: 1.0.2\n    vault_api_addr: https://{{inventory_hostname}}:8200\n    vault_pkg: vault-enterprise_1.0.2+ent_linux_amd64.zip\n    vault_checksum_file_url: https://s3-us-west-2.amazonaws.com/hc-enterprise-binaries/vault/ent/{{vault_version}}/vault-enterprise_1.0.2%2Bent_SHA256SUMS\n    vault_zip_url: https://s3-us-west-2.amazonaws.com/hc-enterprise-binaries/vault/ent/{{vault_version}}/vault-enterprise_1.0.2%2Bent_linux_amd64.zip\n    vault_performance_standby_disable: true\n    vault_ui: true\n    vault_tls_disable: true\n    vault_awskms: false",
                            "template": "- name: Configure Consul cluster\n  hosts: consul_instances\n  any_errors_fatal: true\n  become: true\n  become_user: root\n  roles:\n    - {role: ansible-consul}\n  vars:\n    ansible_ssh_user: ${ansible_user}\n    consul_iface: eth0\n    consul_install_remotely: ${consul_remote_install}\n    consul_version: ${consul_version}\n    consul_dnsmasq_enable: true\n    consul_install_upgrade: true\n    consul_pkg: \"consul-enterprise_{{consul_version}}+ent_linux_amd64.zip\"\n    consul_checksum_file_url: https://s3-us-west-2.amazonaws.com/hc-enterprise-binaries/consul/ent/{{consul_version}}/consul-enterprise_{{consul_version}}%2Bent_SHA256SUMS\n    consul_zip_url: https://s3-us-west-2.amazonaws.com/hc-enterprise-binaries/consul/ent/{{consul_version}}/consul-enterprise_{{consul_version}}%2Bent_linux_amd64.zip\n\n- name: Install Vault\n  hosts: vault_instances\n  any_errors_fatal: true\n  become: true\n  become_user: root\n  roles:\n    - {role: ansible-vault}\n  vars:\n    ansible_ssh_user: ${ansible_user}\n    vault_azurekeyvault: true\n    vault_azurekeyvault_tenant_id: ${tenant_id}\n    vault_azurekeyvault_vault_name: ${vault_name}\n    vault_azurekeyvault_key_name: ${vault_key}\n    vault_iface: eth0\n    vault_install_remotely: ${vault_remote_install}\n    vault_version: ${vault_version}\n    vault_api_addr: https://{{inventory_hostname}}:8200\n    vault_pkg: vault-enterprise_${vault_version}+ent_linux_amd64.zip\n    vault_checksum_file_url: https://s3-us-west-2.amazonaws.com/hc-enterprise-binaries/vault/ent/{{vault_version}}/vault-enterprise_${vault_version}%2Bent_SHA256SUMS\n    vault_zip_url: https://s3-us-west-2.amazonaws.com/hc-enterprise-binaries/vault/ent/{{vault_version}}/vault-enterprise_${vault_version}%2Bent_linux_amd64.zip\n    vault_performance_standby_disable: true\n    vault_ui: true\n    vault_tls_disable: true\n    vault_awskms: false",
                            "vars.%": "8",
                            "vars.ansible_user": "hashiadmin",
                            "vars.consul_remote_install": "true",
                            "vars.consul_version": "1.4.2",
                            "vars.tenant_id": "0e3e2e88-8caf-41ca-b4da-e3b33b6c52ec",
                            "vars.vault_key": "generated-certificate",
                            "vars.vault_name": "testvaultvault",
                            "vars.vault_remote_install": "true",
                            "vars.vault_version": "1.0.2"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.ansible_vault_hosts.0": {
                    "type": "template_file",
                    "depends_on": [
                        "azurerm_virtual_machine.vault",
                        "azurerm_virtual_machine.vault.*"
                    ],
                    "primary": {
                        "id": "02568c8203c34a6157056f5c8f450f026781bc23749f6f53adb57161a0efda9a",
                        "attributes": {
                            "id": "02568c8203c34a6157056f5c8f450f026781bc23749f6f53adb57161a0efda9a",
                            "rendered": "dev-hashi-vault-0 \n",
                            "template": "${vault_node_name} \n",
                            "vars.%": "1",
                            "vars.vault_node_name": "dev-hashi-vault-0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.ansible_vault_hosts.1": {
                    "type": "template_file",
                    "depends_on": [
                        "azurerm_virtual_machine.vault",
                        "azurerm_virtual_machine.vault.*"
                    ],
                    "primary": {
                        "id": "f08229f95cb46c4bba2c6fe801f88006241d66382c9e06428161eb6348847963",
                        "attributes": {
                            "id": "f08229f95cb46c4bba2c6fe801f88006241d66382c9e06428161eb6348847963",
                            "rendered": "dev-hashi-vault-1 \n",
                            "template": "${vault_node_name} \n",
                            "vars.%": "1",
                            "vars.vault_node_name": "dev-hashi-vault-1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "local_file.ansible_inventory": {
                    "type": "local_file",
                    "depends_on": [
                        "data.template_file.ansible_groups"
                    ],
                    "primary": {
                        "id": "d58cab1b8acaf3560567b2078a5cc63503994309",
                        "attributes": {
                            "content": "[consul_instances]\ndev-hashi-consul-0 consul_node_name=dev-hashi-consul-0  consul_client_address=10.0.1.9 consul_node_role=bootstrap\ndev-hashi-consul-1 consul_node_name=dev-hashi-consul-1  consul_client_address=10.0.1.8 consul_node_role=server\ndev-hashi-consul-2 consul_node_name=dev-hashi-consul-2  consul_client_address=10.0.1.7 consul_node_role=server\n\ndev-hashi-vault-0 consul_node_name=dev-hashi-vault-0\ndev-hashi-vault-1 consul_node_name=dev-hashi-vault-1\n\n\n[vault_instances]\ndev-hashi-vault-0 \ndev-hashi-vault-1 \n",
                            "filename": "/Users/nicolas/Documents/GitHub/terraform-vault-az-demo/ansible/hosts",
                            "id": "d58cab1b8acaf3560567b2078a5cc63503994309"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.local"
                },
                "local_file.ansible_playbook": {
                    "type": "local_file",
                    "depends_on": [
                        "data.template_file.ansible_site"
                    ],
                    "primary": {
                        "id": "cb2c80089965fb68a73fe2168d1e9d2ccaae2b2e",
                        "attributes": {
                            "content": "- name: Configure Consul cluster\n  hosts: consul_instances\n  any_errors_fatal: true\n  become: true\n  become_user: root\n  roles:\n    - {role: ansible-consul}\n  vars:\n    ansible_ssh_user: hashiadmin\n    consul_iface: eth0\n    consul_install_remotely: true\n    consul_version: 1.4.2\n    consul_dnsmasq_enable: true\n    consul_install_upgrade: true\n    consul_pkg: \"consul-enterprise_{{consul_version}}+ent_linux_amd64.zip\"\n    consul_checksum_file_url: https://s3-us-west-2.amazonaws.com/hc-enterprise-binaries/consul/ent/{{consul_version}}/consul-enterprise_{{consul_version}}%2Bent_SHA256SUMS\n    consul_zip_url: https://s3-us-west-2.amazonaws.com/hc-enterprise-binaries/consul/ent/{{consul_version}}/consul-enterprise_{{consul_version}}%2Bent_linux_amd64.zip\n\n- name: Install Vault\n  hosts: vault_instances\n  any_errors_fatal: true\n  become: true\n  become_user: root\n  roles:\n    - {role: ansible-vault}\n  vars:\n    ansible_ssh_user: hashiadmin\n    vault_azurekeyvault: true\n    vault_azurekeyvault_tenant_id: 0e3e2e88-8caf-41ca-b4da-e3b33b6c52ec\n    vault_azurekeyvault_vault_name: testvaultvault\n    vault_azurekeyvault_key_name: generated-certificate\n    vault_iface: eth0\n    vault_install_remotely: true\n    vault_version: 1.0.2\n    vault_api_addr: https://{{inventory_hostname}}:8200\n    vault_pkg: vault-enterprise_1.0.2+ent_linux_amd64.zip\n    vault_checksum_file_url: https://s3-us-west-2.amazonaws.com/hc-enterprise-binaries/vault/ent/{{vault_version}}/vault-enterprise_1.0.2%2Bent_SHA256SUMS\n    vault_zip_url: https://s3-us-west-2.amazonaws.com/hc-enterprise-binaries/vault/ent/{{vault_version}}/vault-enterprise_1.0.2%2Bent_linux_amd64.zip\n    vault_performance_standby_disable: true\n    vault_ui: true\n    vault_tls_disable: true\n    vault_awskms: false",
                            "filename": "/Users/nicolas/Documents/GitHub/terraform-vault-az-demo/ansible/site.yml",
                            "id": "cb2c80089965fb68a73fe2168d1e9d2ccaae2b2e"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.local"
                },
                "null_resource.ansible_copy": {
                    "type": "null_resource",
                    "depends_on": [
                        "azurerm_public_ip.bastion",
                        "local_file.ansible_inventory",
                        "local_file.ansible_playbook"
                    ],
                    "primary": {
                        "id": "994021976267796443",
                        "attributes": {
                            "id": "994021976267796443",
                            "triggers.%": "1",
                            "triggers.always_run": "2019-02-07T08:06:30Z"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.null"
                },
                "null_resource.ansible_run": {
                    "type": "null_resource",
                    "depends_on": [
                        "azurerm_public_ip.bastion",
                        "azurerm_virtual_machine.bastion",
                        "azurerm_virtual_machine.consul",
                        "azurerm_virtual_machine.vault",
                        "azurerm_virtual_machine_extension.bastion",
                        "local_file.ansible_inventory",
                        "null_resource.ansible_copy",
                        "null_resource.ansible_ssh_id"
                    ],
                    "primary": {
                        "id": "4805761076862893079",
                        "attributes": {
                            "id": "4805761076862893079",
                            "triggers.%": "1",
                            "triggers.always_run": "2019-02-07T08:07:24Z"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.null"
                },
                "null_resource.ansible_ssh_id": {
                    "type": "null_resource",
                    "depends_on": [
                        "azurerm_public_ip.bastion"
                    ],
                    "primary": {
                        "id": "8504190463005652807",
                        "attributes": {
                            "id": "8504190463005652807"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.null"
                }
            },
            "depends_on": []
        }
    ]
}
